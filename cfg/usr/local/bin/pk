#!/usr/bin/env bash
#
# Flatpak aliases
set -e

ilist() {
  flatpak list --app --columns=application
}

slist(){
  flatpak search "${1}" --columns=application
}

if [[ "${@}" =~ '--help' ]]; then
  cat "${0}"
  exit 0
fi

case "${1}" in
  i) flatpak install flathub "$(ilist | sed -n ${2}p)" --noninteractive;;
  u) flatpak uninstall "$(ilist | sed -n ${2}p)" --delete-data --noninteractive;;
  up) flatpak update --noninteractive;;
  r) flatpak run "$(ilist | sed -n ${2}p)" "${3}";;
  l) ilist | nl;;
  sq) slist "${2}" | nl;;
  s) flatpak search "${2}" --columns=name,application;;
  sd) flatpak search "${2}" --columns=application,description;;
esac
